---
mandatory: true
code: |
  # Set Defaults for internal testing - comment out before release     
  #HHSize = 2
  #ElderlyOrDisabled = "No"
  #isHomeless = "No"
  #hasDependent = "No"  
  #Uneared_Income = "None"
  #Earned_Income = "None"
  #paysAC = "No"
  #paysElec = "No"
  #paysTelephone = "Yes"
  
  # Set defaults for 11 currency fields.
  biWUI = 0  
  WUI = 0
  MUI = 0      
  biWEI = 0
  WEI = 0
  MEI = 0
  ChildSupport = 0  
  MedDed = 0
  DepCareDed = 0
  RentMortgageDed = 0
  HomeownerDed = 0
---
modules:
  - .progressivedisclosure
---
features:
  css: progressivedisclosure.css

---
id: Questions
question: |
subquestion: |
  **<span>[${as_of_date}]</span>**

fields:
  - note: |
      <h2>Household Composition</h2>
  - What is your {household size}?: HHSize
    datatype: integer
  - note: |
      ${ prog_disclose(ineligible_household_member) }
  - Does the household include any members age 60+ or receiving a disability-based benefit?: ElderlyOrDisabled 
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
  - Does the household have child care or disabled adult care costs?: hasDependent  
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
  - note: |
      <hr>
      <h2>Income</h2>

      Include income for your {entire household}.
      
      ${ collapse_template(income_calculation_help) }
      
      <strong>Enter Gross __*Unearned*__ Income</strong><br>
      Examples: Unemployment Insurance Benefits, SSI, Social Security Disability Insurance (SSDI) or Retirement, Pensions, Veterans Benefits, Child Support, State Disability Assistance (SDA), Rental Income, cash assistance like TANF, FIP, or SFA, etc.

      ${ collapse_template(unearned_income_exceptions) }
    js show if: |
      val('hasDependent') != null
  - Income frequency : Uneared_Income
    input type: radio
    choices:
      - Monthly: Mthly
      - Every two weeks: biWkly   
      - Weekly: Wkly  
      - None: None
    js show if: |
      val('hasDependent') != null
  - Monthly amount: MUI
    datatype: currency   
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "Mthly"
  - Amount every two weeks: biWUI
    datatype: currency
    step: 1
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "biWkly"
  - Weekly amount: WUI
    datatype: currency
    step: 1
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "Wkly"
  - note: |  
      <hr>
      <strong>Enter Gross __*Earned*__ Income</strong><br>
      Wages or salaries. For self employment, including independent contractors, enter your average monthly net income (your gross income minus your business expenses).

      ${ collapse_template(earned_income_exceptions) }
    js show if: |
      val("hasDependent") != null
  - Income frequency : Earned_Income
    input type: radio
    choices:
      - Monthly: Mthly
      - Every two weeks: biWkly   
      - Weekly: Wkly 
      - None: None 
    js show if: |
      val("hasDependent") != null
  - Monthly amount: MEI
    datatype: currency
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'Mthly'
  - Amount (very two weeks: biWEI
    datatype: currency  
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'biWkly'
  - Weekly amount: WEI
    datatype: currency  
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'Wkly'
  - note: |
      <hr>
      <h2>Expenses</h2>
      
      <strong>Enter Monthly Child Support Amount</strong>  
    js show if: |
      val('Earned_Income') != null
  - Child support paid by the household that is legally obligated: ChildSupport
    datatype: currency        
    js show if: |
      val('Earned_Income') != null
  - note: |
      <strong>Enter Monthly Medical Costs</strong>
      
      For people over 60 or people who get a disability-based benefit, Michigan allows deductions for out-of-pocket medical expenses that are more than $35/month. Put your total monthly out-of-pocket medical expenses and we’ll calculate what deduction you’re eligible for. 

      ${ collapse_template(medical_expenses_help) }

      The standard medical deduction is $165 for expenses over $35. If you have actual medical expenses that are more than $165, you can deduct the entire expense, minus $35, if you can verify the expenses.
      
    js show if: |
      val('Earned_Income') != null && val('ElderlyOrDisabled') == 'Yes'
  - Monthly medical costs for people over 60 or who get a disability-based benefit:: MedDed
    label above field: true
    datatype: currency        
    js show if: |
      val('Earned_Income') != null && val('ElderlyOrDisabled') == 'Yes'
  - note: |
      <strong>Enter Monthly Dependent Care Costs for Children or Disabled Adults</strong>      
      Michigan allows deductions for out-of-pocket costs for the care of a dependent (child or disabled adult) while you work, job search, or attend job training or education. 
      
      Examples include but are not limited to: daycare, babysitting, before/after school care, home health aides, and other attendant care costs.
      
    js show if: |
      val('Earned_Income') != null && val('hasDependent') == 'Yes'
  - Monthly dependent care costs: DepCareDed
    datatype: currency        
    js show if: |
      val('Earned_Income') != null && val('hasDependent') == 'Yes'
  - note: |
      <hr>
      <h2>Shelter Expenses</h2>
      
      <strong>Information about your costs of living.</strong>  
    js show if: |
      val('ChildSupport') != null
  - Is the household currently homeless?: isHomeless
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    js show if: |
      val('ChildSupport') != null
  - Does anyone in your household pay rent or a mortgage: rentOrMortgage
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    js show if: |
      val('isHomeless') != null
  - Monthly rent or mortgage amount: RentMortgageDed
    datatype: currency        
    show if:
      variable: rentOrMortgage
      is: Yes
  - Additional monthly homeowner expenses, including homeowner insurance and property tax: HomeownerDed
    datatype: currency        
    show if:
      variable: rentOrMortgage
      is: Yes
  - Do you pay heat and cooling separately from your rent or mortgage?: paysAC
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    show if:
      variable: rentOrMortgage
      is: Yes
  - Which of the following utilities do you pay? _Select all that apply._: utilitiesPaid
    datatype: checkboxes
    label above field: True
    choices:
      - Non-heat electric: electricity
      - Water / sewer: water
      - Phone: phone
      - Cooking fuel: fuel
      - Garbage removal: trash
    show if:
      variable: rentOrMortgage
      is: No
terms: 
  - phrases:
      - household size
      - entire household
    definition: |
      Your household includes everyone who:
    
      * lives with you, and 
      * regularly buys and prepares food together. 

      **Plus**, the following people are always included if they live with you (even if you don’t buy and prepare food together):
  
      * your spouse,
      * your children under age 22, and 
      * your other dependents under age 18 (for example: a niece or grandchild you care for, or a foster child)
auto terms: 
  disability-based benefit: |
    For example: Supplemental Security Income (SSI), Social Security Disability (SSD), or Veteran's Disability benefits.
  child care or disabled adult care costs: |
    If you pay for childcare, home health aide, or other out-of-pocket costs for the care of a dependent while you work, job search, or attend job training or education, choose 'Yes' and we will ask about these costs below.
  legally obligated: |
    Only count child support that is paid under a court order. Voluntary payments or buying clothes, food, or other needs for children can’t be deducted here.
  homeowner expenses: |
    You can count any recurring charges like condo fees, mandatory association fees, property taxes, and homeowner insurance.


---
question: |
  Eligibility
subquestion: |
  If some of your household members are not eligible for food stamps, the food stamp calculation will be adjusted by MDHHS. **MDHHS will still want to know about their income and expenses.**

fields:
  - field: ineligble_members
    label: |
      % if HHSize == 1:
        Are you eligible for food stamps?
      % else:
        Are any of your ${ HHSize } household members **not** eligible for food stamps?:
      % endif
    input type: radio
    code: |
      eligibility_options
    label above field: True
  - note: |
      ${ prog_disclose(eligibility_explanation) }
  - How many of your ${ HHSize } household members are **not** eligible for food stamps?: ineligble_member_count
    datatype: integer
    label above field: true
    code: |
      range(1, HHSize+1)
    js show if: 
      val('ineligble_members') == true && ${ json.dumps(HHSize) } > 1
---
reconsider: True
code: |
  if HHSize == 1:
    eligibility_options = [
                  { False : 'Yes, I **am** eligible.' },
                  { True : 'No, I am  **not** eligible.' },
                ]  
  else:
    eligibility_options = [
                  { True : 'Yes, 1 or more household members are **not** eligible.' },
                  { False: f'No, all { HHSize } members of my household **are** eligible.' },
                ]  
---
code: |
  if not ineligble_members:
    ineligble_member_count = 0
  elif HHSize == 1 and ineligble_members:
    ineligble_member_count = 1
  no_eligible_members = ineligble_member_count == HHSize

---
template: ineligible_household_member
subject: |
  What if I think someone in my household is ineligible for food stamps?
content: |
  **Include** your **entire household** in your household size. Also include them in your answers about income and expenses. We’ll ask about eligibility at the end of the tool.
  

---
template: ineligible_household_member
subject: |
  What if I think someone in my household is ineligible for food stamps?
content: |
  **Include** your **entire household** in your household size. Also include them in your answers about income and expenses. We’ll ask about eligibility at the end of the tool.
  
  As long as some of your household members are eligible, you may be able to get food stamps.

---
template: medical_expenses_help
subject: |
  What are some examples of medical expenses that can be deducted?
content: |
  Examples include but are not limited to: 
  <ul>
  <li>Medical insurance premiums, dental or medical care (including attendant care) costs not covered by insurance
  <li>Prescription and over the counter medications
  <li>Medical supplies and equipment
  <li>Medicare and other insurance premiums
  <li>Food and vet bills for a trained service animal
  <li>Dentures, hearing aids, and prosthetics
  <li>Transportation and lodging costs to obtain medical treatment
  <li>Costs employing an attendant, homemaker, home health aide, housekeeper, home help provider, or child care provider due to age, infirmity or illness
  </ul>
  
---
template: income_calculation_help
subject: |
  What if I have multiple types of income?
content: |
  If you have multiple sources of earned or unearned income, you should enter the total amounts below.

  If you have multiple types of income that have different payment frequencies, you will need to convert the amounts.

  To get a **monthly** amount for different payment frequencies:
  
  * If a payment is **weekly**, multiply that value by 4.33 to get the _monthly_ amount. 
  * If a payment is **every two weeks** (biweekly), multiply that value by 2.17 to get the _monthly_ amount.
  * If a payment is **twice per month**, multiply that value by 2 to get the _monthly_ amount. 

---
template: unearned_income_exceptions
subject: |
  What types of unearned income should **not** be included?
content: |
  The Michigan Department of Health and Human Services (MDHHS) does not count certain types of unearned income when figuring out your Food Stamps. 
  
  **DO NOT** include the following types of income:

  * **Educational Income** that goes directly to pay for your education, such as scholarship money, a student loan, grants, work-study, assistanceships and fellowships
  * **The MDHHS $50 "Child Support Pass-Through"** (This is up to $50 a month in child support money that is usually returned by MDHHS if you or someone in your household receives cash assistance (FIP).)
  * **Child Support Refunds and Reimbursements** (This is child support money "refunded" by MDHHS in some cases if the Friend of the Court (FOC) accidentally sent child support payments to MDHHS instead of to the custodial parent or if the FOC sent too much child support to MDHHS.)
  
---
template: earned_income_exceptions
subject: |
  What types of earned income should **not** be included?
content: |
  The Michigan Department of Health and Human Services (MDHHS) does not count certain types of earned income when figuring out your Food Stamps. 
  
  **DO NOT** include the following types of income:
  
  * **Work-Study** income earned by college students as a part of their financial aid package
  * **The Earned Income Tax Credit (EITC)** (even if you receive a portion of the EITC in your paycheck every month)
  * **AmeriCorps Stipends**
  * **VISTA (Volunteers in Service to America) stipends**
  * **Other Volunteer Stipends** from the following programs: University Year for Action, Urban Crime Prevention Program, Foster Grandparents Program, Senior Companion Program, Retired Senior Volunteer Program (RSVP), Older American Volunteer Program
  * **Income diverted under the SSI PASS program** (Explanation: Some disabled people who receive SSI income participate in the Plan to Achieve Self Sufficiency (PASS) program. The PASS program allows SSI recipients to work and earn some income without losing their SSI. This income also does not count for food stamp purposes.)
