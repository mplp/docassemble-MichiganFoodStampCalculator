---
mandatory: true
code: |
  # Set Defaults for internal testing - comment out before release     
  #ElderlyOrDisabled = "Yes"
  #isHomeless = "No"
  #hasDependent = "No"  
  #Uneared_Income = "Mthly"
  #Earned_Income = "biWkly"
  #paysAC = "No"
  #paysElec = "No"
  #paysTelephone = "Yes"
  
  # Set defaults for 11 currency fields.
  biWUI = 0  
  WUI = 0
  MUI = 0      
  biWEI = 0
  WEI = 0
  MEI = 0
  ChildSupport = 0  
  MedDed = 0
  DepCareDed = 0
  RentMortgageDed = 0
  HomeownerDed = 0
---
modules:
  - .progressivedisclosure
---
features:
  css: progressivedisclosure.css

---
id: Questions
question: |
subquestion: |
  **<span>[${as_of_date}]</span>**

  <br />
fields:
  - note: |
      <h2>Household Composition</h2>
  - Household size: HHSize  
    datatype: integer    
  - Does the household include any members age 60+ or receiving a disability-based benefit?: ElderlyOrDisabled 
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
  - Does the household have child care or disabled adult care costs?: hasDependent  
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
  - note: |
      <hr>
      <h2>Income</h2>

      ${ collapse_template(income_calculation_help) }
      
      <strong>Enter Gross __*Unearned*__ Income</strong><br>
      Examples: Unemployment Insurance Benefits, SSI, Social Security Disability Insurance (SSDI) or Retirement, Pensions, Veterans Benefits, Child Support, State Disability Assistance (SDA), Rental Income, cash assistance like TANF, FIP, or SFA, etc.

      ${ collapse_template(unearned_income_exceptions) }
    js show if: |
      val('hasDependent') != null
  - Income frequency : Uneared_Income
    input type: radio
    choices:
      - Monthly: Mthly
      - Biweekly: biWkly   
      - Weekly: Wkly  
      - None: None
    js show if: |
      val('hasDependent') != null
  - Monthly amount: MUI
    datatype: currency   
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "Mthly"
  - Biweekly amount: biWUI
    datatype: currency
    step: 1
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "biWkly"
  - Weekly amount: WUI
    datatype: currency
    step: 1
    js show if: |
      val('hasDependent') != null && val('Uneared_Income') == "Wkly"
  - note: |  
      <hr>
      <strong>Enter Gross __*Earned*__ Income</strong><br>
      Wages or salaries. For self employment, including independent contractors, enter your average monthly net income (your gross income minus your business expenses).

      ${ collapse_template(earned_income_exceptions) }
    js show if: |
      val("hasDependent") != null
  - Income frequency : Earned_Income
    input type: radio
    choices:
      - Monthly: Mthly
      - Biweekly: biWkly   
      - Weekly: Wkly 
      - None: None 
    js show if: |
      val("hasDependent") != null
  - Monthly amount: MEI
    datatype: currency
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'Mthly'
  - Biweekly amount: biWEI
    datatype: currency  
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'biWkly'
  - Weekly amount: WEI
    datatype: currency  
    js show if: |
      val('hasDependent') != null && val('Earned_Income') == 'Wkly'
  - note: |
      <hr>
      <h2>Expenses</h2>
      
      <strong>Enter Monthly Child Support Amount</strong>  
    js show if: |
      val('Earned_Income') != null
  - Child support paid by the household that is legally obligated: ChildSupport
    datatype: currency        
    js show if: |
      val('Earned_Income') != null
  - note: |
      <strong>Enter Monthly Medical Costs</strong>
      For people over 60 or people who get a disability-based benefit, Michigan allows deductions for out-of-pocket medical expenses that are more than $35/month. Put your total monthly out-of-pocket medical expenses and we’ll calculate what deduction you’re eligible for.
      
      Examples include but are not limited to: Medical insurance premiums, dental or medical care (including attendant care) costs not covered by insurance; prescription and over the counter medications; medical supplies and equipment; Medicare and other insurance premiums; food and vet bills for a trained service animal; dentures, hearing aids, and prosthetics; transportation and lodging costs to obtain medical treatment.
      
    # I suggest adding a note or "auto term" or something similar here proving examples of 
    # disability-based benefits, such as SSI, SSD, or Vetera's Disability. 
    js show if: |
      val('Earned_Income') != null && val('ElderlyOrDisabled') == 'Yes'
  - Monthly medical costs: MedDed
    datatype: currency        
    js show if: |
      val('Earned_Income') != null && val('ElderlyOrDisabled') == 'Yes'
  - note: |
      <strong>Enter Monthly Dependent Care Costs for Children or Disabled Adults</strong>      
      Michigan allows deductions for out-of-pocket costs for the care of a dependent (child or disabled adult) while you work, job search, or attend job training or education. 
      
      Examples include but are not limited to: daycare, babysitting, before/after school care, home health aides, and other attendant care costs.
      
    js show if: |
      val('Earned_Income') != null && val('hasDependent') == 'Yes'
  - Monthly dependent care costs: DepCareDed
    datatype: currency        
    js show if: |
      val('Earned_Income') != null && val('hasDependent') == 'Yes'
  - note: |
      <hr>
      <h2>Shelter Expenses</h2>
      
      <strong>Information about your costs of living.</strong>  
    js show if: |
      val('ChildSupport') != null
  - Is the household currently homeless?: isHomeless
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    js show if: |
      val('ChildSupport') != null
  - Monthly rent or mortgage amount: RentMortgageDed
    datatype: currency        
    show if:
      variable: isHomeless
      is: No
  - Additional monthly homeowner expenses, including homeowner insurance and property tax: HomeownerDed
    datatype: currency        
    show if:
      variable: isHomeless
      is: No
  # The below is for the standard heat and utility deduction. In the HotDocs version, this is
  # only asked if the user does NOT pay rent or mortgage. 
  - Does the household have any heat or air conditioning costs (any time of year), or did your household get fuel assistance (like LIHEAP) in the last 12 months?: paysAC
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    show if:
      variable: isHomeless
      is: No
  - Does the household pay for electricity for non-heating purposes or for trash collection?: paysElec
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    show if:
      variable: paysAC
      is: No
  - Does the household pay for its own telephone service?: paysTelephone
    label above field: True
    input type: radio
    choices:
      - Yes
      - No
    show if:
      variable: paysElec
      is: No
auto terms: 
  Household size: |
    Your FAP household is everyone who lives with you who regularly purchases and prepares food together.
  disability-based benefit: |
    For example: Supplemental Security Income (SSI), Social Security Disability (SSD), or Veteran's Disability benefits.
  child care or disabled adult care costs: |
    If you pay for childcare, home health aide, or other out-of-pocket costs for the care of a dependent while you work, job search, or attend job training or education, choose 'Yes' and we will ask about these costs below.
  legally obligated: |
    Only count child support that is paid under a court order. Voluntary payments or buying clothes, food, or other needs for children can’t be deducted here.
  homeowner expenses: |
    You can count any recurring charges like mortgage, condo fees, mandatory association fees, property taxes, insurance, electricity, gas, heating/cooling costs, cooking fuel, water, sewer, and trash collection AND repair costs if the damage was caused by a natural disaster.
continue button label: See Results

---
template: income_calculation_help
subject: |
  What if I have multiple types of income?
content: |
  If you have multiple sources of earned or unearned income, you should enter the total amounts below.

  If you have multiple types of income that have different payment frequencies, you will need to convert the amounts.

  To get a **monthly** amount for different payment frequencies:
  
  * If a payment is **weekly**, multiply that value by 4.33 to get the _monthly_ amount. 
  * If a payment is **biweekly** (every 2 weeks), multiply that value by 2.17 to get the _monthly_ amount.
  * If a payment is **twice per month**, multiply that value by 2 to get the _monthly_ amount. 

---
template: unearned_income_exceptions
subject: |
  What types of unearned income should **not** be included?
content: |
  The Michigan Department of Health and Human Services (MDHHS) does not count certain types of unearned income when figuring out your Food Stamps. If you or anyone in your household has any of the following kinds of income, **DO NOT** include that income.

  **Educational Income** MDHHS will not count any educational income, including scholarships, grants, loans, work-study, assistanceships and fellowships. If you or anyone in your household receives income that goes directly to pay for your education, such as scholarship money, a student loan or other educational income, **DO NOT** count any of the income.

  **Income of Legal Immigrants** If someone in your household is a **legal** immigrant who is **not allowed** to receive Food Stamps, **DO NOT** count any unearned income of that person or persons.

  **EXCEPTION**: You must count all cash assistance (FIP) income in the next step, even if it is received by someone in your household who is a legal immigrant.

  **The MDHHS $50 "Child Support Pass-Through"**- If you or someone in your household receives cash assistance (FIP), MDHHS usually returns up to $50 per month of the child support that they collect. If you or someone in your household receives this "Child Support Pass Through", **DO NOT** count that income.

  **Child Support Refunds and Reimbursements** Sometimes the Friend of the Court accidentally sends child support payments to MDHHS instead of to the custodial parent. Other times, Friend of the Court will send too much child support to MDHHS. When either of these situations happen MDHHS must return the child support payment to the custodial parent. If you or someone in your household has received a child support "refund" from MDHHS, **DO NOT** count that income.
  
---
template: earned_income_exceptions
subject: |
  What types of earned income should **not** be included?
content: |
  The Michigan Department of Health and Human Services (MDHHS) does not count certain types of earned income when figuring out your Food Stamps. If you or anyone in your household has any of the following kinds of earned income, **DO NOT** include that income.
  
  **Work-Study** Many college students work in a "Work Study" program as a part of their financial aid package. **DO NOT** count any work study income.
  
  **Earned Income of Legal Immigrants** If someone in your household is a legal immigrant who is not allowed to receive Food Stamps, **DO NOT** count any earned income of that person.
  
  **The Earned Income Tax Credit (EITC)** If you receive the Earned Income Tax Credit, **DO NOT** count that income. Even if you receive a portion of the Earned Income Tax Credit in your paycheck every month, *DO NOT* count that portion of your paycheck that comes from the EITC. 
  
  **Income diverted under SSI PASS** Some disabled persons who receive SSI income participate in the Plan to Achieve Self Sufficiency (PASS) program. The PASS program allows SSI recipients to work and earn some income without losing their SSI. If you or anyone else in your household has earned income through the PASS program, **DO NOT** count that income.
  
  **AmeriCorps Stipends** The AmeriCorps program is a federal volunteer program that pays volunteers a small stipend in exchange for a year of service. If you or anyone in your household is an AmeriCorps volunteer, **DO NOT** count any income from their AmeriCorps stipend.

  **VISTA stipends** The Volunteers in Service to America (VISTA) Program pays volunteers a small stipend for their work. If anyone in your household is a VISTA volunteer, **DO NOT** count his or her stipend. 

  **Other Volunteer Stipends** Some programs pay volunteers a small stipend for their volunteer work. If you or anyone in your household has income from any of the following programs, **DO NOT** count that income:
  <ul>
  <li>University Year for Action
  <li>Urban Crime Prevention Program
  <li>Foster Grandparents Program
  <li>Senior Companion Program
  <li>Retired Senior Volunteer Program (RSVP)
  <li>Older American Volunteer Program
  </ul>

---
id: downloadChoice
comment: |
  Display the major results on the screen, and let the user choose what to download.  
question: |
subquestion: |
  % if FinalResult <= 0:
  **TODO**
  
  ####You do not seem to be eligible for SNAP benefits. There may still be other programs and resources that can help - learn more from <a href="https://maineequaljustice.org/help-is-available/food-security/#:~:text=Here%20are%20some%20ways%20to%20apply%3A%201%20You,go%20to%20My%20Maine%20Connection%20and%20apply%20online">Maine Equal Justice</a> or <a href="https://www.gsfb.org/food-map/">find a food pantry near you</a>.
  % else:
  ####You may be eligible for FAP benefits.
  ####If you apply and are approved, your benefit may be <span style="color: green">${ currency(FinalResult) }</span> per month.<br>
  % endif

  ${ AssetTestScreenMsg }
fields:
  - Learn more or print results: print_options
    datatype: checkboxes
    choices:
      - Summary of possible SNAP benefits and how to apply: Summary
      - Calculation Details: Details
      - View DHHS Inputs: Inputs   
continue button label: Finish